import { Canvas, Controls, Meta, Story } from '@storybook/blocks';

import * as ConditionKeywordStories from './condition-keyword.directive.stories.ts';

<Meta of={ConditionKeywordStories} />

# ConditionKeyword

The `ConditionKeywordDirective` controls template rendering based on logical conditions (`and`, `or`, `else`).
It allows dynamic content visibility management by evaluating multiple conditions.

## Overview

<Canvas>
  <Story of={ConditionKeywordStories.Overview} />
</Canvas>

## Props

<Controls />

## Usage

Use the directive in your component template to control rendering:

```html
<div *appConditionKeyword="condition; or: isAlternative; and: isRequired; else: fallbackRef; let contextValue">
	This content is rendered when conditions are met. Context: {{ contextValue }}
</div>

<ng-template #fallbackRef>
	<p>Fallback content when conditions are not satisfied.</p>
</ng-template>
```

## Usage as a `hostDirective`

The `ConditionKeywordDirective` can be used as a `hostDirective` to extend the behavior of other directives.

### Example

```typescript
@Directive({
  selector: '[customDirective]',
  standalone: true,
  providers: [{ provide: CONDITION_KEYWORD, useExisting: CustomDirective }],
  hostDirectives: [
    {
      directive: ConditionKeywordDirective,
      inputs: [
        'appConditionKeywordAnd: customDirectiveAnd',
        'appConditionKeywordElse: customDirectiveElse',
        'appConditionKeywordOr: customDirectiveOr',
      ],
    },
  ],
})
export class CustomDirective implements ConditionKeyword<{ $implicit: string }> {
  public readonly condition = input.required<boolean>({ alias: 'customDirective' });
  public readonly context = { $implicit: 'Injected value' };
}
```

### Corresponding HTML Usage

```html
<div *customDirective="someCondition; or: anotherCondition; and: mainCondition; else: fallbackRef; let contextValue">
  Rendered when the condition is met. Context value: {{ contextValue }}
</div>

<ng-template #fallbackRef>
  <p>This is shown when conditions are not met.</p>
</ng-template>
```

